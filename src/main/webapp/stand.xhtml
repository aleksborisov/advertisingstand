<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--suppress BadExpressionStatementJS -->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Advertising Stand</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"/>
    <script type="text/javascript">
        function onMessage() {
            location.reload();
        }
    </script>
</h:head>

<h:body>
    <h1 class="text-center">Mars Army Store best products</h1>
    <div id="statistics-table" class="table-responsive container">
        <table class="table table-striped">
            <thead>
            <tr>
                <th scope="col">UPC</th>
                <th scope="col">Name</th>
                <th scope="col">Color</th>
                <th scope="col">Brand</th>
                <th scope="col">Category</th>
                <th scope="col">Price</th>
                <th scope="col">Sold</th>
            </tr>
            </thead>
            <tbody>
            <h:form id="form">
                <ui:repeat id="repeat" value="#{statistics}" var="productStatistics">
                    <tr>
                        <td><h:outputText value="#{productStatistics.upc}"/></td>
                        <td><h:outputText value="#{productStatistics.name}"/></td>
                        <td><h:outputText value="#{productStatistics.color}"/></td>
                        <td><h:outputText value="#{productStatistics.brand}"/></td>
                        <td><h:outputText value="#{productStatistics.category}"/></td>
                        <td><h:outputText value="$#{productStatistics.price}"/></td>
                        <td><h:outputText value="#{productStatistics.quantitySold}"/></td>
                    </tr>
                </ui:repeat>
            </h:form>
            </tbody>
        </table>

        <f:websocket channel="push" onmessage="onMessage"/>
    </div>

</h:body>
</html>
